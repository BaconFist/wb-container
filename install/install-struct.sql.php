-- <?php header($_SERVER['SERVER_PROTOCOL'].' 404 Not Found'); echo '404 Not Found'; flush(); exit;?>
-- phpMyAdmin SQL Dump
-- version 4.0.4.1
-- http://www.phpmyadmin.net
--
-- Host: 127.0.0.1
-- Erstellungszeit: 14. Aug 2014 um 10:46
-- Server Version: 5.5.32
-- PHP-Version: 5.4.19

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
-- --------------------------------------------------------
-- Database structure for module 'news'
--
-- Replacements: {TABLE_PREFIX}, {TABLE_ENGINE}, {FIELD_COLLATION}
--
-- --------------------------------------------------------
--
-- Tabellenstruktur für Tabelle `addons`
--
DROP TABLE IF EXISTS `{TABLE_PREFIX}addons`;
CREATE TABLE IF NOT EXISTS `{TABLE_PREFIX}addons` (
  `addon_id` int(11) NOT NULL AUTO_INCREMENT,
  `type` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `directory` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `name` varchar(250){FIELD_COLLATION} NOT NULL DEFAULT '',
  `description` text{FIELD_COLLATION} NOT NULL,
  `function` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `version` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `platform` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `author` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `license` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  PRIMARY KEY (`addon_id`)
){TABLE_ENGINE};


ALTER TABEL `{TABLE_PREFIX}addons` DISABLE KEYS;
ALTER TABLE `{TABLE_PREFIX}addons` {XTABLE_ENGINE=InnoDB};
ALTER TABLE `{TABLE_PREFIX}addons` DROP INDEX `ident`;
ALTER TABLE `{TABLE_PREFIX}addons` DROP INDEX `ident_addons`;
ALTER TABLE `{TABLE_PREFIX}addons` MODIFY `type` VARCHAR(20) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}addons` MODIFY `directory` VARCHAR(140) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}addons` MODIFY `name` varchar(250){FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}addons` MODIFY `description` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}addons` MODIFY `function` VARCHAR(96) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}addons` MODIFY `version` VARCHAR(200) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}addons` MODIFY `platform` VARCHAR(200) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}addons` MODIFY `author` VARCHAR(500) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}addons` MODIFY `license` VARCHAR(500) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}addons` ADD UNIQUE `ident_addons` (`function`, `directory`) USING BTREE;
ALTER TABLE `{TABLE_PREFIX}addons` ENABLE KEYS;

-- --------------------------------------------------------
--
-- Tabellenstruktur für Tabelle `groups`
--
DROP TABLE IF EXISTS `{TABLE_PREFIX}groups`;
CREATE TABLE IF NOT EXISTS `{TABLE_PREFIX}groups` (
  `group_id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(250){FIELD_COLLATION} NOT NULL DEFAULT '',
  `system_permissions` text{FIELD_COLLATION} NOT NULL,
  `module_permissions` text{FIELD_COLLATION} NOT NULL,
  `template_permissions` text{FIELD_COLLATION} NOT NULL,
  PRIMARY KEY (`group_id`)
){TABLE_ENGINE};

ALTER TABEL `{TABLE_PREFIX}groups` DISABLE KEYS;
ALTER TABLE `{TABLE_PREFIX}groups` {XTABLE_ENGINE=InnoDB};
ALTER TABLE `{TABLE_PREFIX}groups` DROP INDEX `ident`;
ALTER TABLE `{TABLE_PREFIX}groups` DROP INDEX `ident_groups`;
ALTER TABLE `{TABLE_PREFIX}groups` MODIFY `name` VARCHAR(200) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}groups` MODIFY `system_permissions` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}groups` MODIFY `module_permissions` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}groups` MODIFY `template_permissions` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}groups` ADD UNIQUE `ident_groups` ( `name` ) USING BTREE;
ALTER TABLE `{TABLE_PREFIX}groups` ENABLE KEYS;
-- --------------------------------------------------------
--
-- Tabellenstruktur für Tabelle `pages`
--
DROP TABLE IF EXISTS `{TABLE_PREFIX}pages`;
CREATE TABLE IF NOT EXISTS `{TABLE_PREFIX}pages` (
  `page_id` int(11) NOT NULL AUTO_INCREMENT,
  `parent` int(11) NOT NULL DEFAULT '0',
  `root_parent` int(11) NOT NULL DEFAULT '0',
  `level` int(11) NOT NULL DEFAULT '0',
  `link` text{FIELD_COLLATION} NOT NULL,
  `page_trail` text{FIELD_COLLATION} NOT NULL,
  `position` int(11) NOT NULL DEFAULT '0',
  `language` varchar(5){FIELD_COLLATION} NOT NULL DEFAULT '',
  `visibility` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `menu` int(11) NOT NULL DEFAULT '0',
  `target` varchar(7){FIELD_COLLATION} NOT NULL DEFAULT '',
  `page_title` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `menu_title` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `description` text{FIELD_COLLATION} NOT NULL,
  `keywords` text{FIELD_COLLATION} NOT NULL,
  `template` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `searching` int(11) NOT NULL DEFAULT '0',
  `admin_groups` text{FIELD_COLLATION} NOT NULL,
  `admin_users` text{FIELD_COLLATION} NOT NULL,
  `viewing_groups` text{FIELD_COLLATION} NOT NULL,
  `viewing_users` text{FIELD_COLLATION} NOT NULL,
  `modified_when` int(11) NOT NULL DEFAULT '0',
  `modified_by` int(11) NOT NULL DEFAULT '0',
  PRIMARY KEY (`page_id`)
){TABLE_ENGINE};
ALTER TABEL `{TABLE_PREFIX}pages` DISABLE KEYS;
ALTER TABLE `{TABLE_PREFIX}pages` {XTABLE_ENGINE=InnoDB};
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `link` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `page_trail` text {FIELD_COLLATION} NOT NULL AFTER `link`;
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY  `position` int(11) NOT NULL DEFAULT '0' AFTER `page_trail`;
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `menu` int(11) NOT NULL DEFAULT '0' AFTER `position`;
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `language` VARCHAR(64) {FIELD_COLLATION} NOT NULL DEFAULT '' AFTER `menu`;
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `visibility` VARCHAR(255) {FIELD_COLLATION} NOT NULL DEFAULT '' AFTER `language`;
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `target` VARCHAR(14) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `page_title` VARCHAR(512) {XFIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `menu_title` VARCHAR(512) {XFIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `description` text {XFIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `keywords` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `template` VARCHAR(255) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `admin_groups` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `admin_users` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `viewing_groups` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `viewing_users` text {FIELD_COLLATION} NOT NULL;

ALTER TABLE `{TABLE_PREFIX}pages` ADD `page_icon` varchar(512){FIELD_COLLATION} NOT NULL DEFAULT '' AFTER `page_title`;
ALTER TABLE `{TABLE_PREFIX}pages` ADD `menu_icon_0` varchar(512){FIELD_COLLATION} NOT NULL DEFAULT '' AFTER `menu_title`;
ALTER TABLE `{TABLE_PREFIX}pages` ADD `menu_icon_1` varchar(512){FIELD_COLLATION} NOT NULL DEFAULT '' AFTER `menu_icon_0`;
ALTER TABLE `{TABLE_PREFIX}pages` ADD `tooltip` varchar(512){FIELD_COLLATION} NOT NULL DEFAULT '' AFTER `menu_icon_1`;
ALTER TABLE `{TABLE_PREFIX}pages` ADD `custom01` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '' AFTER `modified_by`;
ALTER TABLE `{TABLE_PREFIX}pages` ADD `custom02` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '' AFTER `custom01`;
ALTER TABLE `{TABLE_PREFIX}pages` ADD `page_code` int(11) NOT NULL DEFAULT '0' AFTER `custom02`;

ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `page_icon` varchar(512){FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `menu_icon_0` varchar(512){FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `menu_icon_1` varchar(512){FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `tooltip` varchar(512){XFIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `custom01` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}pages` MODIFY `custom02` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}pages` ENABLE KEYS;

-- --------------------------------------------------------
--
-- Tabellenstruktur für Tabelle `search`
--
DROP TABLE IF EXISTS `{TABLE_PREFIX}search`;
CREATE TABLE IF NOT EXISTS `{TABLE_PREFIX}search` (
  `search_id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `value` text{FIELD_COLLATION} NOT NULL,
  `extra` text{FIELD_COLLATION} NOT NULL,
  PRIMARY KEY (`search_id`)
){TABLE_ENGINE};

ALTER TABEL `{TABLE_PREFIX}search` DISABLE KEYS;
ALTER TABLE `{TABLE_PREFIX}search` {XTABLE_ENGINE=InnoDB};
ALTER TABLE `{TABLE_PREFIX}search` MODIFY `name` VARCHAR(255) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}search` MODIFY `value` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}search` MODIFY `extra` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}search` ENABLE KEYS;
-- --------------------------------------------------------
--
-- Tabellenstruktur für Tabelle `sections`
--
DROP TABLE IF EXISTS `{TABLE_PREFIX}sections`;
CREATE TABLE IF NOT EXISTS `{TABLE_PREFIX}sections` (
  `section_id` int(11) NOT NULL AUTO_INCREMENT,
  `page_id` int(11) NOT NULL DEFAULT '0',
  `position` int(11) NOT NULL DEFAULT '0',
  `module` varchar(200){FIELD_COLLATION} NOT NULL DEFAULT '',
  `block` varchar(200){FIELD_COLLATION} NOT NULL DEFAULT '',
  `publ_start` varchar(200){FIELD_COLLATION} NOT NULL DEFAULT '0',
  `publ_end` varchar(200){FIELD_COLLATION} NOT NULL DEFAULT '0',
  PRIMARY KEY (`section_id`)
){TABLE_ENGINE};
ALTER TABEL `{TABLE_PREFIX}sections` DISABLE KEYS;
ALTER TABLE `{TABLE_PREFIX}sections` {XTABLE_ENGINE=InnoDB};
ALTER TABLE `{TABLE_PREFIX}sections` MODIFY `module` VARCHAR(200) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}sections` MODIFY  `block` VARCHAR(200) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}sections` MODIFY `publ_start` int NOT NULL DEFAULT '0';
ALTER TABLE `{TABLE_PREFIX}sections` MODIFY `publ_end` int NOT NULL DEFAULT '2147483647' COMMENT 'max ((2^31)-1)';
ALTER TABLE `{TABLE_PREFIX}sections` ADD `title` VARCHAR(250) {FIELD_COLLATION} NOT NULL DEFAULT '' AFTER `publ_end`;
ALTER TABLE `{TABLE_PREFIX}sections` MODIFY `title` VARCHAR(250) {XFIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}sections` ADD `anchor` int(11) NOT NULL DEFAULT '0' AFTER `title`;
ALTER TABLE `{TABLE_PREFIX}sections` ADD `active` int(11) NOT NULL DEFAULT '1' AFTER `anchor`;
ALTER TABLE `{TABLE_PREFIX}sections` ADD `attribute` TEXT {FIELD_COLLATION} NOT NULL DEFAULT '' AFTER `active`;
ALTER TABLE `{TABLE_PREFIX}sections` MODIFY `attribute` TEXT {FIELD_COLLATION} NOT NULL;
--ALTER TABLE `{TABLE_PREFIX}sections` MODIFY `attribute` VARCHAR(255) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}sections` MODIFY `active` int(11) NOT NULL DEFAULT '1';
ALTER TABLE `{TABLE_PREFIX}sections` ENABLE KEYS;
-- --------------------------------------------------------
--
-- Tabellenstruktur für Tabelle `settings`
--
DROP TABLE IF EXISTS `{TABLE_PREFIX}settings`;
CREATE TABLE IF NOT EXISTS `{TABLE_PREFIX}settings` (
  `name` varchar(160){FIELD_COLLATION} NOT NULL DEFAULT '',
  `value` text{FIELD_COLLATION} NOT NULL,
  PRIMARY KEY (`name`)
){TABLE_ENGINE};
ALTER TABEL `{TABLE_PREFIX}settings` DISABLE KEYS;
ALTER TABLE `{TABLE_PREFIX}settings` {XTABLE_ENGINE=InnoDB};
ALTER TABLE `{TABLE_PREFIX}settings` DROP INDEX `ident`;
ALTER TABLE `{TABLE_PREFIX}settings` DROP INDEX `ident_settings`;
ALTER TABLE `{TABLE_PREFIX}settings` MODIFY `name` VARCHAR(160) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}settings` MODIFY `value` longtext {XFIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}settings` ADD UNIQUE `ident_settings` ( `name` ) USING BTREE;
ALTER TABLE `{TABLE_PREFIX}settings` ENABLE KEYS;
--
DROP TABLE IF EXISTS `{TABLE_PREFIX}users`;
CREATE TABLE IF NOT EXISTS `{TABLE_PREFIX}users` (
  `user_id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) NOT NULL DEFAULT '0',
  `groups_id` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '0',
  `active` int(11) NOT NULL DEFAULT '0',
  `username` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `password` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `remember_key` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `last_reset` int(11) NOT NULL DEFAULT '0',
  `display_name` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `email` text{FIELD_COLLATION} NOT NULL,
  `timezone` int(11) NOT NULL DEFAULT '0',
  `date_format` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `time_format` varchar(255){FIELD_COLLATION} NOT NULL DEFAULT '',
  `language` varchar(8){FIELD_COLLATION} NOT NULL DEFAULT 'DE',
  `home_folder` text{FIELD_COLLATION} NOT NULL,
  `login_when` int(11) NOT NULL DEFAULT '0',
  `login_ip` varchar(15){FIELD_COLLATION} NOT NULL DEFAULT '',
  PRIMARY KEY (`user_id`)
){TABLE_ENGINE};

ALTER TABEL `{TABLE_PREFIX}users` DISABLE KEYS;
ALTER TABLE `{TABLE_PREFIX}users` {XTABLE_ENGINE=InnoDB};
ALTER TABLE `{TABLE_PREFIX}users` MODIFY `groups_id` VARCHAR(255) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}users` MODIFY `username` VARCHAR(255) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}users` MODIFY `password` VARCHAR(255) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}users` MODIFY `remember_key` VARCHAR(255) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}users` MODIFY `display_name` VARCHAR(512) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}users` MODIFY `email` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}users` MODIFY `date_format` VARCHAR(255) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}users` MODIFY `time_format` VARCHAR(255) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}users` MODIFY `language` VARCHAR(64) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}users` MODIFY `login_ip` VARCHAR(90) {FIELD_COLLATION} NOT NULL DEFAULT '';
ALTER TABLE `{TABLE_PREFIX}users` MODIFY `home_folder` text {FIELD_COLLATION} NOT NULL;
ALTER TABLE `{TABLE_PREFIX}users` ADD `confirm_code` varchar(64){FIELD_COLLATION} NOT NULL DEFAULT '' AFTER `password`;
ALTER TABLE `{TABLE_PREFIX}users` ADD `confirm_timeout` int(11) NOT NULL DEFAULT '0' AFTER `confirm_code`;
ALTER TABLE `{TABLE_PREFIX}users` ENABLE KEYS;
